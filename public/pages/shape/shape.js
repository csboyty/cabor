define(["jquery","juicer","app/config","jquery.cookie"],function(e,t,s){var l=0,a=0,i=1,n=1,r="",o=1,c=1,h=1,m=1;return{init:function(){var l,a,r,o=location.hash,c=JSON.parse(e.cookie("storeInfo"));i=c.style.value,n=o.substr(1),e("#selectStyle").text(s.allData.style[i].name),e("#selectSeries").text(s.allData.style[i].series[n].name),e("#effectImage").attr("src",s.allData.style[i].series[n].effectImage),r={list:s.objToArray(s.allData.style[i].series[n].menXing)},l=e("#menXingTpl").html(),a=t(l,r),e("#menXingList").html(a),r={list:s.objToArray(s.allData.style[i].series[n].menSe)},l=e("#menSeTpl").html(),a=t(l,r),e("#menSeList").html(a),r={list:s.objToArray(s.allData.style[i].series[n].taiSe)},l=e("#taiSeTpl").html(),a=t(l,r),e("#taiSeList").html(a),r={list:s.objToArray(s.allData.style[i].series[n].laShou)},l=e("#laShouTpl").html(),a=t(l,r),e("#laShouList").html(a),e("#size li").addClass("hidden")},storeInfo:function(){var t=JSON.parse(e.cookie("storeInfo"));t.style.series={value:n},t.style.series.shape=r,t.style.series.totalM=l,t.style.series.totalMoney=a,t.style.series.menSe=c,t.style.series.menXing=o,t.style.series.taiSe=h,t.style.series.laShou=m,e.cookie("storeInfo",JSON.stringify(t))},storeValue:function(e,t){switch(e){case"menXing":o=t;break;case"menSe":c=t;break;case"taiSe":h=t;break;case"laShou":m=t}},selectShape:function(t){switch(e("#size input").val(""),e("#totalMValue").text(""),t){case"一字型":e("#size li").addClass("hidden"),e("#size li:eq(0)").removeClass("hidden");break;case"L字型":e("#size li").removeClass("hidden"),e("#size li:eq(1)").find("label").text("柜宽"),e("#size li:eq(2)").addClass("hidden");break;case"U字型":e("#size li").removeClass("hidden"),e("#size li:eq(1)").find("label").text("柜宽A")}r=t,e("#selectShape").text(t)},getTotalM:function(){l=0,e("#size input").each(function(){l+=Number(e(this).val())}),l-=.6*(e("#size li:not(.hidden)").length-1),a=l*Number(s.allData.style[i].series[n].price),e("#selectTotalM").text(l),e(".selectTotalMoney").text(a),e("#totalMValue").text(l)}}});